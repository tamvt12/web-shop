<main class='max-w-5xl mx-auto p-5 bg-white mt-8 rounded-lg shadow-md'>
  <div class='border-b pb-4 mb-6 flex flex-wrap justify-between items-center'>
    <h1 class='text-2xl font-semibold text-gray-800'>
      Tạo bài viết mới
    </h1>
  </div>
  {{#if messages.error}}
    <div class='bg-red-100 text-red-700 p-3 rounded mb-4'>
      {{messages.error}}
    </div>
  {{else if messages.success}}
    <div class='bg-green-100 text-green-700 p-3 rounded mb-4'>
      {{messages.success}}
    </div>
  {{/if}}
  <form action='/admin/news/add' method='post'>
    <div class='mb-4'>
      <label
        for='title'
        class='block text-custom-base text-black font-medium mb-2'
      >
        Tiêu đề
      </label>
      <input
        type='text'
        id='title'
        name='title'
        required
        class='w-full border border-gray-300 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500'
      />
    </div>

    <div class='mb-4'>
      <label
        for='summary'
        class='block text-custom-base text-black font-medium mb-2'
      >
        Tóm tắt
      </label>
      <textarea
        id='summary'
        name='summary'
        rows='3'
        required
        class='w-full border border-gray-300 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500'
      ></textarea>
    </div>

    <div class='mb-4'>
      <label
        for='editor'
        class='block text-custom-base text-black font-medium mb-2'
      >
        Nội dung
      </label>
      <textarea id='editor' name='content'></textarea>
    </div>

    <div class='mb-4'>
      <label
        for='upload'
        class='block text-custom-base text-black font-medium mb-2'
      >
        Hình ảnh
      </label>
      <input
        type='file'
        name='file'
        id='upload'
        class='block w-full text-sm text-gray-700 border border-gray-300 rounded cursor-pointer focus:outline-none'
      />
      <div id='image_show' class='mt-2'></div>
      <input type='hidden' name='image_url' id='thumb' />
    </div>

    <button
      type='submit'
      class='w-full bg-btn bg-custom-green-hover text-white px-6 py-2 rounded transition'
    >
      Đăng bài
    </button>
  </form>
</main>

<!-- TinyMCE -->
<script
  src='https://cdn.tiny.cloud/1/1qhl88avnncvfa0ynpg9ebdodtwiqippl9130y5r6wd65pmg/tinymce/6/tinymce.min.js'
  referrerpolicy='origin'
></script>
<script>
  tinymce.init({
    selector: '#editor',
    plugins:
      'advlist autolink lists link image charmap preview anchor searchreplace visualblocks code fullscreen insertdatetime media table code help wordcount',
    toolbar:
      'undo redo | blocks | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | image media | removeformat | help',
    file_picker_types: 'image',
    automatic_uploads: true,
    images_reuse_filename: true,
    height: 500,
    setup: function (editor) {
      editor.on('change', function () {
        editor.save();
      });
    },
  });
</script>
<div class="flex justify-center mt-12">
  <div class="w-full max-w-4xl bg-white p-6 rounded shadow-md">
    {{#if messages.error}}
      <div class="bg-red-100 text-red-700 p-3 rounded mb-4">
        {{messages.error}}
      </div>
    {{else if messages.success}}
      <div class="bg-green-100 text-green-700 p-3 rounded mb-4">
        {{messages.success}}
      </div>
    {{/if}}

    <form method="post" class="space-y-4">
      <!-- Danh mục -->
      <div>
        <label for="category_id" class="block text-sm font-medium text-gray-700 mb-1">
          Tên danh mục
        </label>
        <select
          name="category_id"
          id="category_id"
          class="w-full border rounded px-3 py-2"
        >
          <option value="0" {{#ifCond product.category_id null}}selected{{/ifCond}}>
            -- Chọn danh mục --
          </option>
          {{#each categories}}
            <option
              value="{{this._id}}"
              {{#ifCond this._id ../product.category_id}}selected{{/ifCond}}
            >
              {{this.name}}
            </option>
          {{/each}}
        </select>
      </div>

      <!-- Tên sản phẩm -->
      <div>
        <label for="name" class="block text-sm font-medium text-gray-700 mb-1">
          Tên sản phẩm
        </label>
        <input
          type="text"
          name="name"
          id="name"
          class="w-full border rounded px-3 py-2"
          placeholder="Nhập tên sản phẩm"
          value="{{product.name}}"
        />
      </div>

      <!-- Mô tả sản phẩm -->
      <div>
        <label for="description" class="block text-sm font-medium text-gray-700 mb-1">
          Mô tả sản phẩm
        </label>
        <textarea
          name="description"
          id="description"
          class="w-full border rounded px-3 py-2"
          rows="3"
          placeholder="Nhập mô tả sản phẩm"
        >{{product.description}}</textarea>
      </div>

      <!-- Giá sản phẩm -->
      <div>
        <label for="price" class="block text-sm font-medium text-gray-700 mb-1">
          Giá sản phẩm
        </label>
        <input
          type="number"
          name="price"
          id="price"
          class="w-full border rounded px-3 py-2"
          placeholder="Nhập giá sản phẩm"
          value="{{product.price}}"
        />
      </div>

      <!-- Số lượng tồn kho -->
      <div>
        <label for="stock" class="block text-sm font-medium text-gray-700 mb-1">
          Số lượng hàng tồn kho
        </label>
        <input
          type="number"
          name="stock"
          id="stock"
          class="w-full border rounded px-3 py-2"
          placeholder="Nhập số lượng hàng tồn kho"
          value="{{product.stock}}"
        />
      </div>

      <!-- Hình ảnh sản phẩm -->
      <div>
        <label for="upload" class="block text-sm font-medium text-gray-700 mb-1">
          Hình ảnh sản phẩm
        </label>
        <input
          type="file"
          name="file"
          id="upload"
          class="w-full border rounded px-3 py-2 mb-2"
        />
        <div id="image_show" class="mb-2">
          <a href="{{product.image_url}}" target="_blank">
            <img src="{{product.image_url}}" class="w-24 h-auto" />
          </a>
        </div>
        <input
          type="hidden"
          name="image_url"
          id="thumb"
          value="{{product.image_url}}"
        />
      </div>

      <!-- Nút submit -->
      <div>
        <button
          type="submit"
          class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded"
        >
          Sửa
        </button>
      </div>
    </form>
  </div>
</div>
